<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css"
      integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="menu.css" />
    <title>Menu</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg fixed-top bg-white">
      <div class="container">
        <a class="navbar-brand" href="./index.html">
          <img
            class="img-fluid"
            src="./assets/logo2.png"
            alt="logo"
            style="width: 150px; margin-top: -5px"
          />
        </a>
        <button
          class="navbar-toggler shadow-none"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav m-auto mb-2 mb-lg-0">
            <li class="nav-item me-4">
              <a
                class="nav-link active fw-semibold"
                aria-current="page"
                href="./index.html"
                >Home</a
              >
            </li>
            <li class="nav-item me-4">
              <a class="nav-link fw-semibold" href="./menu.html">Menu</a>
            </li>
            <li class="nav-item me-4">
              <a class="nav-link fw-semibold" href="./contact.html"
                >ContactUs</a
              >
            </li>
            <li class="nav-item me-4">
              <a class="nav-link fw-semibold" href="./about.html">About</a>
            </li>
          </ul>
          <!-- Search Form -->
          <form class="d-flex" role="search" onsubmit="submitForm(event)">
            <input
              id="searchInput"
              class="form-control me-2 rounded-start-0"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button
              class="signin-btn w-50 text-white rounded-end-0"
              type="submit"
            >
              Search
            </button>
          </form>
          <button
            class="signin-btn text-white fs-6 px-4 py-1 mx-2"
            type="button"
          >
            SignIn
          </button>
          <div class="text-end mb-3">
            <i
              class="icon bi bi-cart fs-4"
              id="cart-icon"
              style="color: #a8094e; cursor: pointer"
            ></i>
          </div>
        </div>
      </div>
    </nav>

    <div id="cart-container">
      <br />
      <br />
      <br />
      <br />
      <h5>Shopping Cart</h5>
      <ul id="cart-items" class="list-group"></ul>
    </div>
    <div class="products-main" style="margin-top: 100px">
      <div class="products-main">
        <div>
          <div class="form-check">
            <b> Delivery Day </b>
            <div class="form-check">
              <label class="form-check-label" htmlFor="flexRadio">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadio"
                  id="flexRadio"
                />

                Get It in 2 Days
              </label>
            </div>
          </div>
          <div class="form-check">
            <b> Category </b>
            <div class="form-check">
              <label class="form-check-label" htmlFor="flexRadioDefault1">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault1"
                  value="donuts"
                  onclick="{submitForm(event)}"
                />
                donuts
              </label>
            </div>
          </div>
          <div class="form-check">
            <label class="form-check-label" htmlFor="flexRadioDefault1">
              <input
                class="form-check-input"
                type="radio"
                name="flexRadioDefault"
                id="flexRadioDefault2"
                value="coffee"
                onclick="{submitForm(event)}"
              />
              coffee
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label" htmlFor="flexRadioDefault1">
              <input
                class="form-check-input"
                type="radio"
                name="flexRadioDefault"
                id="flexRadioDefault3"
                value="sandwich"
                onclick="{submitForm(event)}"
              />
              sandwich
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label" htmlFor="flexRadioDefault1">
              <input
                class="form-check-input"
                type="radio"
                name="flexRadioDefault"
                id="flexRadioDefault4"
                value="chocolate"
                onclick="{submitForm(event)}"
              />
              chocolate
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label" htmlFor="flexRadioDefault1">
              <input
                class="form-check-input"
                type="radio"
                name="flexRadioDefault"
                id="flexRadioDefault5"
                value="latte"
                onclick="{submitForm(event)}"
              />
              Latte
            </label>
          </div>
        </div>
      </div>

      <div id="products" class="container products">
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/sandwiches-and-more/DNK00673_CroissantSausageEggCheese_lib_RGB@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts sandwich</p>

                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts sandwich"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/espresso-coffee/Coffee_new.png"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts hot coffee</p>

                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts hot coffee"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/teas-and-more/teas_no_lemon_new.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts tea</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts tea"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/frozen-drinks/DNK00533_FrozenCoffee_200px@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts frozen drinks</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts frozen drinks"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/snacks-and-wraps/DNK00696_HashBrowns_lib_RGB%20copy@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts snackes</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts snackes"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/bagels-and-muffins/BagelCreamCheese_600x460@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts muffins</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts muffins"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/donuts/DNK00834_VanillaFrostedSprinklesDonut_500px@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/sandwiches-and-more/DNK00686_BaconEggCheeseBagel_200px@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts bacon</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts bacon"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/sandwiches-and-more/SourdoughBNT.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts BREAKFAST sandwich</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts BREAKFAST sandwich"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/sandwiches-and-more/DNK00688_BaconEggCheeseWakeUpWrap_500px%20copy@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">
                  dunkin donuts Bacon Egg Cheese WakeUp Wrap sandwich
                </p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="WakeUp Wrap sandwich"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/donuts/DNK00840_5Munchkins_lib_RGB@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts Treats</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="dunkin donuts Treats"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign-v2/302x570/frozen-chocolate.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts Frozen Chocolate</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="Frozen Chocolate"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign-v2/302x570/frozen-matcha-latte.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts Frozen Matcha Latte</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="Frozen Matcha Latte"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign-v2/302x570/iced_americano.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts iced Americano</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="iced Americano"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/espresso-coffee/Iced%20Signature%20Latte@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts Iced Signature Latte</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="Iced Signature Latte"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mb-3" style="max-width: 540px">
          <div class="row g-0 align-items-center">
            <div class="col-md-6 text-center">
              <img
                src="https://www.dunkindonuts.com/content/dam/dd/img/menu-redesign/espresso-coffee/DNK00542_IcedCaramelMacchiatto_200px@2x.png"
                class="img-fluid rounded-start"
                alt="Product Image"
                style="height: 130px; width: 130px; object-fit: cover"
              />
            </div>

            <div class="col-md-6">
              <div class="card-body">
                <p class="fw-bold mb-0">dunkin donuts Iced Macchiato</p>
                <button
                  class="btn signin-btn w-100 text-white add-to-cart"
                  data-name="Iced Macchiato"
                  data-price="$5.50"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="footer-container"></div>

    <script>
      function fetchProducts(query) {
        const searchTerm = "dunkin donuts " + query;
        const encodedSearchTerm = encodeURIComponent(searchTerm);
        console.log(encodedSearchTerm);
        const url = `https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodedSearchTerm}&search_simple=1&json=1&page_size=10`;

        // console.log("Fetching:", url);

        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            const productsDiv = document.getElementById("products");
            productsDiv.innerHTML = "";
            data.products.forEach((product) => {
              const productElement = document.createElement("div");
              productElement.innerHTML = `
                  
  <div class="card mb-3" style="max-width: 540px;">
    <div class="row g-0 align-items-center">
      <div class="col-md-6 text-center">
        <img src="${product.image_front_small_url}" class="img-fluid rounded-start" alt="Product Image" 
          style="height: 130px; width: 130px; object-fit: cover;">
      </div>
      <div class="col-md-6">
        <div class="card-body">
          <p class="fw-bold mb-0">${product.product_name}</p>
                       <button class="btn signin-btn w-100 text-white  add-to-cart" data-name=${product.product_name} data-price="$5.50">Add to Cart</button>

        </div>
      </div>
    </div>
  </div>
              `;
              productsDiv.appendChild(productElement);
            });
          })
          .catch((error) => console.error("Error fetching data:", error));
      }

      function submitForm(event) {
        event.preventDefault(); // Prevent the default form submission behavior
        const searchValue = document.getElementById("searchInput").value.trim();
        let filterValue;
        if (event.target.value == "donuts") {
          filterValue = document
            .getElementById("flexRadioDefault1")
            .value.trim();
        } else if (event.target.value == "coffee") {
          filterValue = document
            .getElementById("flexRadioDefault2")
            .value.trim();
        } else if (event.target.value == "sandwich") {
          filterValue = document
            .getElementById("flexRadioDefault3")
            .value.trim();
        } else if (event.target.value == "chocolate") {
          filterValue = document
            .getElementById("flexRadioDefault4")
            .value.trim();
        } else if (event.target.value == "latte") {
          filterValue = document
            .getElementById("flexRadioDefault5")
            .value.trim();
        }
        console.log("Search value:", searchValue);
        console.log("filter value:", event.target.value);
        // Update the div with id "test" (if needed)
        // document.getElementById("test").innerHTML = searchValue;
        // Fetch products with the new query
        if (searchValue.length > 1) {
          fetchProducts(searchValue);
        }

        fetchProducts(filterValue);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const cartIcon = document.getElementById("cart-icon");
        const cartContainer = document.getElementById("cart-container");
        const cartItemsList = document.getElementById("cart-items");
        const addToCartButtons = document.querySelectorAll(".add-to-cart");

        let cart = [];

        addToCartButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const name = this.getAttribute("data-name");
            const price = this.getAttribute("data-price");
            cart.push({ name, price });
            updateCartUI();
          });
        });

        cartIcon.addEventListener("click", function () {
          cartContainer.style.display =
            cartContainer.style.display === "none" ? "block" : "none";
        });

        function updateCartUI() {
          cartItemsList.innerHTML = "";

          cart.forEach((item) => {
            const li = document.createElement("li");
            li.classList.add("list-group-item");
            li.textContent = `${item.name} - ${item.price}`;
            const countDiv = document.createElement("div");
            countDiv.innerHTML = `
            <button class="decrease">−</button>
            <span class="quantity">1</span>
            <button class="increase">+</button>
            <br/>
      <button class="btn signin-btn w-25 text-white  add-to-cart"  data-price="$5.50">buy</button>

        `;
            li.appendChild(countDiv);
            cartItemsList.appendChild(li);
          });
        }
      });
      document.addEventListener("click", function (event) {
        let quantityElement =
          event.target.parentElement.querySelector(".quantity");

        if (event.target.classList.contains("increase")) {
          quantityElement.textContent =
            parseInt(quantityElement.textContent) + 1;
        }

        if (event.target.classList.contains("decrease")) {
          let quantity = parseInt(quantityElement.textContent);
          if (quantity > 1) {
            quantityElement.textContent = quantity - 1;
          }
        }
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script src="./footer.js"></script>
    <script src="./menu.js"></script>
  </body>
</html>
